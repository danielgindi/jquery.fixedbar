/*
    Library by Daniel Cohen Gindi (danielgindi@gmail.com) 054-5655765 
    MIT License!
    Version: 2014-02-18
*/
(function(h){h(function(){h(".fixedbar").each(function(){function u(){k=parseFloat(c.topOffset)||0;l=!1;var b=d||a;null!=c.bottomOffset?l=b.offset().top+b.outerHeight()+(parseFloat(c.bottomOffset)||0):k+=b.offset().top-(n.length?n.offset().top:0)}var a=h(this),m=this.className.match(/\bfixedbar\s*(\{[^}]*\})/),n=a.closest(".fixedbar-parent-reduce-offset"),f;try{f=(new Function("return "+(m?m[1]:"{}"))).call({})}catch(v){f=null}var c=f||{},d,r=h(window),b=c.fade;b&&(b=parseFloat(b),!b||isNaN(b))&&
(b=400);var k,l,p=null!=c.top&&!1!==c.top?parseFloat(c.top)||0:!1,s=null!=c.maxY?parseFloat(c.maxY)||0:null,t=!1;r.scroll(function(){u();var e=r.scrollTop(),f=r.height(),n=a.height(),q=a.outerHeight(),g=e>=k&&(!l||e+f<=l),m=!1,q=null!=s&&e+p>document.documentElement.scrollHeight-s-q;g&&!d?(d=h("<div>").attr("class",a.attr("class")).removeClass("fixedbar").addClass("fixed-placeholder").height(n).insertBefore(a),b&&null!=c.bottomOffset&&e<a.offset().top&&!t&&a.removeData("fixed-fading-out").stop().hide().fadeIn({duration:b})):
!g&&d&&(d.remove(),d=null,a.stop(),b&&null!=c.bottomOffset&&e<k?(m=!0,a.data("fixed-fading-out",!0).fadeOut({duration:b,complete:function(){a.removeClass("fixedbar-enabled").removeData("fixed-fading-out").show();!1!==p&&a.css("top","")}})):a.fadeIn({duration:0}));m||a.data("fixed-fading-out")&&!g||(a.toggleClass("fixedbar-enabled",g).toggleClass("fixedbar-at-bottom",g&&q),!1!==p&&a.css("top",g&&!q?p:""));t=null!=c.bottomOffset&&e+f>l-(parseFloat(c.bottomOffset)||0)})})})})(jQuery);
